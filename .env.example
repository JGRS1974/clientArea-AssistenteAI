APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost #se deve colocar o host de produção/QA/Dev

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=daily
LOG_DAILY_DAYS=7
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug


DB_CONNECTION=sqlite
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=laravel
# DB_USERNAME=root
# DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

CACHE_STORE=database
# CACHE_PREFIX=

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
MAX_MESSAGES_REDIS=30 #Quantidade máxima mensagens persistidas no Redis

MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"

# ===============================================
# Back-off (segundos) quando der rate-limit
# nas consultas IA. Default=12
# ==============================================
PRISM_RATE_LIMIT_BACKOFF_SECONDS=

# ===============================================
# Variável opcional compara o limite de intenção
# com o valor de intenção retornado pelo
# sub-agente de intenção para determinar
# se persiste no redis. Default 0.7
# ==============================================
INTENT_COMMIT_THRESHOLD=

# ========================================
# Assistant Tunables
# ========================================
# Use mensagens determinísticas para erros de boleto
ASSISTANT_TICKET_ERROR_DETERMINISTIC=true

# ========================================
#         Modo de manutenção
# ========================================
# Ativar/desativar manutenção (global)
MAINTENANCE_ON=false
# Which channels to apply: all, whatsapp, web (separado por virgula)
MAINTENANCE_CHANNELS="all"
# Variante da mensagem a serem enviada informando manuntenção: default, planned, incident, degraded
MAINTENANCE_VARIANT="default"
# Opcional: Data/hora de término planejada (exibida na mensagem quando variant=planned)
MAINTENANCE_UNTIL=""
# Opcional: public status page URL
MAINTENANCE_STATUS_URL=""
# Timezone for greeting (bom dia/tarde/noite)
MAINTENANCE_TZ="America/Sao_Paulo"
# WhatsApp: Tempo de espera (em segundos) para evitar respostas repetidas por número
MAINTENANCE_COOLDOWN_SECONDS="600"
# WhatsApp: Lista de números para ignorar a manutenção (separado por virgula Ex. 552299xxxxxxx,551199xxxxxxx)
MAINTENANCE_WHITELIST=""
# WhatsApp: Responder ao chat interno durante a manutenção (mensagens enviadas no WhatsApp para 'você')
MAINTENANCE_RESPOND_SELF=true

# API do sistema de clientes
CLIENT_API_BASE_URL=  #Exemplo "https://api.corp.com.br/api/v2/corpore/wscorp.dll/datasnap/rest"
IR_API_BASE_URL=      #Exemplo "https://api.corp.com.br"

# Frontend
FRONTEND_URL=http://localhost:3000


# Prism Provider Configuration
OPENAI_API_KEY=
OPENAI_URL="https://api.openai.com/v1"

GEMINI_API_KEY=
GEMINI_URL="https://generativelanguage.googleapis.com/v1beta/models"

EVOLUTION_BASE_URL="http://localhost:8080"
EVOLUTION_INSTANCE="TesteAssistente"
EVOLUTION_API_KEY="0D2BE6318E94-45D2-985A-0BAABBDF058D"

# ========================================
# WhatsApp – Flags explícitas de controle
# ========================================

# Número da própria instância (para identificar self chat)
# Ex.: 552299xxxxxxx
WA_INSTANCE_PHONE=

# Quem processar no webhook (entrada)
# Permite processar mensagens enviadas pela própria instância (fromMe)
WA_INBOUND_ALLOW_SELF=true
# Permite processar mensagens de outros números
WA_INBOUND_ALLOW_OTHERS=false
# Se true, só processa fromMe quando houver mídia (reduz risco de loop)
WA_INBOUND_SELF_MEDIA_ONLY=false
# Se true, só processa others quando houver mídia (geralmente false)
WA_INBOUND_OTHERS_MEDIA_ONLY=false

# Anti-loop (entrada fromMe texto): ignora textos iguais aos enviados recentemente (em segundos)
WA_ANTI_LOOP_FROMME_TEXT_COOLDOWN_SECONDS=5

# Suprimir TTS quando a mensagem recebida é fromMe (self chat)
WA_SELF_SUPPRESS_TTS=true

# Para quem enviar (saída)
# Permite enviar mensagens para o próprio número (self chat)
WA_OUTBOUND_ALLOW_SELF=true
# Permite enviar mensagens para outros números
WA_OUTBOUND_ALLOW_OTHERS=false
# Lista de números permitidos (somente se quiser whitelisting). Ex.: 552299xxxxxxx,552299xxxxxxx
WA_OUTBOUND_WHITELIST=

DS_APP_HOST=

#==============================================
#  Exemplo cenários prontos (exemplos de .env)
#==============================================

#Produção (seguro, sem self chat):
#WA_INSTANCE_PHONE=552299xxxxxxx
#WA_INBOUND_ALLOW_SELF=false
#WA_INBOUND_ALLOW_OTHERS=true
#WA_OUTBOUND_ALLOW_SELF=false
#WA_OUTBOUND_ALLOW_OTHERS=true
#WA_OUTBOUND_WHITELIST= (vazio)

#QA — self chat sem loop (mídia somente), sem afetar terceiros:
#WA_INSTANCE_PHONE=552299xxxxxxx
#WA_INBOUND_ALLOW_SELF=true
#WA_INBOUND_SELF_MEDIA_ONLY=true
#WA_INBOUND_ALLOW_OTHERS=false
#WA_OUTBOUND_ALLOW_SELF=true
#WA_OUTBOUND_ALLOW_OTHERS=false #Se for = true deveria (opcional) adicionar whitelist como em Dev

#Dev — testar tudo com whitelist:
#WA_INSTANCE_PHONE=552299xxxxxxx
#WA_INBOUND_ALLOW_SELF=true
#WA_INBOUND_ALLOW_OTHERS=true
#WA_OUTBOUND_ALLOW_SELF=true
#WA_OUTBOUND_ALLOW_OTHERS=true
#WA_OUTBOUND_WHITELIST=552299xxxxxxx, xxxxxxxx, xxxxxxx - (Opcional - adicione números testes) Evitar envios errados para outros números
